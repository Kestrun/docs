---
layout: default
title: "JwtTokenBuilder class"
parent: "Kestrun.Security"
grand_parent: "C# API"
---
# JwtTokenBuilder class

Fluent utility to create any flavour of JWS/JWE in one line.

```csharp
public sealed class JwtTokenBuilder
```

## Public Members

| name | description |
| --- | --- |
| [JwtTokenBuilder](JwtTokenBuilder/JwtTokenBuilder.md)() | The default constructor. |
| static [New](JwtTokenBuilder/New.md)() | Creates a new instance of [`JwtTokenBuilder`](./JwtTokenBuilder.md). |
| [Algorithm](JwtTokenBuilder/Algorithm.md) { get; } | Gets the algorithm used for signing the JWT token. |
| [Audience](JwtTokenBuilder/Audience.md) { get; } | Gets the audience of the JWT token. |
| [Issuer](JwtTokenBuilder/Issuer.md) { get; } | Gets the issuer of the JWT token. |
| [AddClaim](JwtTokenBuilder/AddClaim.md)(…) | Adds a claim to the JWT token. |
| [AddHeader](JwtTokenBuilder/AddHeader.md)(…) | Adds a custom header to the JWT token. |
| [Build](JwtTokenBuilder/Build.md)() | Builds the JWT token and returns a [`JwtBuilderResult`](./JwtBuilderResult.md) containing the token, signing key, and validity period. |
| [CloneBuilder](JwtTokenBuilder/CloneBuilder.md)() | Creates a new token builder instance by cloning the current configuration. |
| [EncryptWithCertificate](JwtTokenBuilder/EncryptWithCertificate.md)(…) | Encrypts the JWT using the provided X.509 certificate. |
| [EncryptWithPemPublic](JwtTokenBuilder/EncryptWithPemPublic.md)(…) | Encrypts the JWT using a PEM-encoded RSA public key. |
| [EncryptWithSecret](JwtTokenBuilder/EncryptWithSecret.md)(…) | Encrypts the JWT using a symmetric key provided as a byte array. |
| [EncryptWithSecretB64](JwtTokenBuilder/EncryptWithSecretB64.md)(…) | Encrypts the JWT using a symmetric key provided as a Base64Url-encoded string. |
| [EncryptWithSecretHex](JwtTokenBuilder/EncryptWithSecretHex.md)(…) | Encrypts the JWT using a symmetric key provided as a hexadecimal string. |
| [NotBefore](JwtTokenBuilder/NotBefore.md)(…) | Sets the 'not before' (nbf) claim for the JWT token. |
| [RenewJwt](JwtTokenBuilder/RenewJwt.md)(…) | Renews a JWT token from the current request context, optionally extending its lifetime. (2 methods) |
| [SignWithCertificate](JwtTokenBuilder/SignWithCertificate.md)(…) | Sign with an X.509 certificate (must have private key). |
| [SignWithRsaPem](JwtTokenBuilder/SignWithRsaPem.md)(…) | Signs the JWT using an RSA private key provided in PEM format. |
| [SignWithSecret](JwtTokenBuilder/SignWithSecret.md)(…) | Signs the JWT using a symmetric key provided as a Base64Url-encoded string. |
| [SignWithSecretHex](JwtTokenBuilder/SignWithSecretHex.md)(…) | Signs the JWT using a symmetric key provided as a hexadecimal string. |
| [SignWithSecretPassphrase](JwtTokenBuilder/SignWithSecretPassphrase.md)(…) | Signs the JWT using a symmetric key derived from the provided passphrase. |
| [ValidFor](JwtTokenBuilder/ValidFor.md)(…) | Sets the lifetime (validity period) of the JWT token. |
| [WithAudience](JwtTokenBuilder/WithAudience.md)(…) | Sets the audience of the JWT token. |
| [WithIssuer](JwtTokenBuilder/WithIssuer.md)(…) | Sets the issuer of the JWT token. |
| [WithSubject](JwtTokenBuilder/WithSubject.md)(…) | Sets the subject ('sub' claim) of the JWT token. |

## Examples

// PowerShell usage: $builder = [Kestrun.Security.JwtTokenBuilder]::New() $token = $builder .WithSubject('admin') .WithIssuer('https://issuer') .WithAudience('api') .SignWithSecret('uZ6zDP3CGK3rktmVOXQk8A') # base64url .EncryptWithCertificate($cert,'RSA-OAEP','A256GCM') .Build() Write-Output $token

## See Also

* namespace [Kestrun.Security](../Kestrun.md)

<!-- DO NOT EDIT: generated by xmldocmd for Kestrun.dll -->
